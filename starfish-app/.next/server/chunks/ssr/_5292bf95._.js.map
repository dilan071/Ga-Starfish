{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Nereida%20Ramos/Desktop/Ga-Starfish/starfish-app/src/app/hooks/useAuth.tsx"],"sourcesContent":["'use client'; \r\nimport { useRouter } from 'next/navigation';\r\n\r\nexport function useAuth() {\r\n  const router = useRouter();\r\n\r\n  function handleLogout() {\r\n    localStorage.removeItem('currentUser');\r\n    localStorage.setItem('isLoggedIn', 'false');\r\n    router.push('/login');\r\n  }\r\n\r\n  return {\r\n    handleLogout,\r\n  };\r\n}\r\n"],"names":[],"mappings":";;;AACA;AADA;;AAGO,SAAS;IACd,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAEvB,SAAS;QACP,aAAa,UAAU,CAAC;QACxB,aAAa,OAAO,CAAC,cAAc;QACnC,OAAO,IAAI,CAAC;IACd;IAEA,OAAO;QACL;IACF;AACF","debugId":null}},
    {"offset": {"line": 30, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Nereida%20Ramos/Desktop/Ga-Starfish/starfish-app/src/app/dashboard/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport Link from 'next/link';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useAuth } from '../hooks/useAuth';\r\n\r\nexport default function DashboardPage() {\r\n  const [currentUser, setCurrentUser] = useState<any>(null);\r\n  const [retrospectives, setRetrospectives] = useState<any[]>([]);\r\n  const router = useRouter();\r\n  const { handleLogout } = useAuth();\r\n\r\n  useEffect(() => {\r\n    const user = JSON.parse(localStorage.getItem('currentUser') || 'null');\r\n    if (!user) {\r\n      router.push('/login');\r\n    } else {\r\n      const allUsers = JSON.parse(localStorage.getItem('users') || '[]');\r\n      const updatedUser = allUsers.find((u: any) => u.email === user.email);\r\n      setCurrentUser(updatedUser);\r\n      localStorage.setItem('currentUser', JSON.stringify(updatedUser));\r\n\r\n      // Cargar retrospectivas del grupo actual\r\n      const storedRetrospectives = localStorage.getItem('retrospectives');\r\n      if (storedRetrospectives && updatedUser.assignedGroup) {\r\n        const allRetros = JSON.parse(storedRetrospectives);\r\n        const filteredRetros = allRetros.filter((retro: any) =>\r\n          retro.assignedGroup &&\r\n          typeof retro.assignedGroup === 'string' &&\r\n          retro.assignedGroup.trim() === updatedUser.assignedGroup.trim()\r\n        );\r\n        // Ordenar descendientemente por fecha de creaci贸n\r\n        filteredRetros.sort(\r\n          (a: any, b: any) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime()\r\n        );\r\n        setRetrospectives(filteredRetros);\r\n      }\r\n    }\r\n  }, [router]);\r\n\r\n  // Funci贸n para obtener avatar del usuario\r\n  const getAvatar = (email: string) => {\r\n    const allUsers = JSON.parse(localStorage.getItem('users') || '[]');\r\n    const user = allUsers.find((u: any) => u.email === email);\r\n    return user?.avatar || '/default-avatar.png';\r\n  };\r\n\r\n  if (!currentUser) return <div>Cargando...</div>;\r\n\r\n  if (!currentUser.assignedGroup) {\r\n    return (\r\n      <div>\r\n        No tienes un grupo asignado. <button onClick={handleLogout}>Cerrar Sesi贸n</button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div style={{ padding: '1rem' }}>\r\n      <div style={{ display: 'flex', alignItems: 'center', marginBottom: '1rem' }}>\r\n        <img\r\n          src={getAvatar(currentUser.email)}\r\n          alt=\"Avatar\"\r\n          style={{ width: '50px', height: '50px', borderRadius: '50%', marginRight: '1rem' }}\r\n        />\r\n        <div>\r\n          <h2>Dashboard</h2>\r\n          <p><strong>{currentUser.email}</strong></p>\r\n        </div>\r\n      </div>\r\n\r\n      <p><strong>Grupo:</strong> {currentUser.assignedGroup}</p>\r\n      <p><strong>Rol en el grupo:</strong> {currentUser.groupRole || 'N/A'}</p>\r\n\r\n      <div style={{ marginBottom: '1rem' }}>\r\n        <Link href=\"/retrospective-list\">Ver todas las retrospectivas del grupo</Link>\r\n      </div>\r\n\r\n      <div>\r\n        <h3>Retrospectivas Recientes</h3>\r\n        {retrospectives.length === 0 ? (\r\n          <p>No hay retrospectivas creadas.</p>\r\n        ) : (\r\n          <ul style={{ listStyle: 'none', padding: 0 }}>\r\n            {retrospectives.slice(0, 3).map((retro: any, index: number) => (\r\n              <li\r\n                key={index}\r\n                style={{\r\n                  marginBottom: '1rem',\r\n                  border: '1px solid #ccc',\r\n                  padding: '0.5rem',\r\n                  borderRadius: '4px'\r\n                }}\r\n              >\r\n                <h4>{retro.title}</h4>\r\n                <p>{retro.description}</p>\r\n                <p><strong>FSH:</strong> {retro.fsh}</p>\r\n                <p><strong>Creada:</strong> {new Date(retro.createdAt).toLocaleString()}</p>\r\n                <p><strong>Estado:</strong> {retro.closed ? 'Cerrada' : 'Abierta'}</p>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        )}\r\n      </div>\r\n\r\n      {currentUser.groupRole === 'scrum-master' || currentUser.groupRole === 'Scrum Master' ? (\r\n        <div>\r\n          <h3>Opciones de Scrum Master:</h3>\r\n          <ul>\r\n            <li><Link href=\"/create-retrospective\">Crear Retrospectiva</Link></li>\r\n            <li><Link href=\"/schedule-retrospectives\">Programar Retrospectivas</Link></li>\r\n            <li><Link href=\"/leaderboard\">Ver Leaderboard</Link></li>\r\n            <li><Link href=\"/profile\">Editar Perfil</Link></li>\r\n          </ul>\r\n        </div>\r\n      ) : (\r\n        <div>\r\n          <h3>Opciones de Usuario:</h3>\r\n          <ul>\r\n            <li><Link href=\"/add-actions\">Agregar Acciones</Link></li>\r\n            <li><Link href=\"/vote-actions\">Votar Acciones</Link></li>\r\n            <li><Link href=\"/retrospective-session\">Ingresar a la Retrospectiva</Link></li>\r\n            <li><Link href=\"/view-questions\">Ver Preguntas</Link></li>\r\n            <li><Link href=\"/leaderboard\">Ver Leaderboard</Link></li>\r\n            <li><Link href=\"/profile\">Editar Perfil</Link></li>\r\n          </ul>\r\n        </div>\r\n      )}\r\n\r\n      <button onClick={handleLogout} style={{ marginTop: '1rem' }}>Cerrar Sesi贸n</button>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 532, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Nereida%20Ramos/Desktop/Ga-Starfish/starfish-app/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0],"debugId":null}}]
}