{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Nereida%20Ramos/Desktop/Ga-Starfish-2/starfish-app/src/app/create-retrospective/page.tsx"],"sourcesContent":["'use client';\r\nimport { useState, useEffect } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport SidebarToggle from '../SidebarToggle';\r\nimport styles from './Create-Retrospective.module.css';\r\nimport Swal from 'sweetalert2';\r\n\r\nexport default function CreateRetrospectivePage() {\r\n  const [title, setTitle] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [fsh, setFsh] = useState('');\r\n  const [currentUser, setCurrentUser] = useState<any>(null);\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    const user = JSON.parse(localStorage.getItem('currentUser') || 'null');\r\n    if (!user || !user.assignedGroup) {\r\n      Swal.fire({\r\n        text: \"No se pudo determinar el grupo o no has iniciado sesión.\",\r\n        icon: \"error\",\r\n        confirmButtonColor: '#ef4444',\r\n        iconColor: '#ef4444',\r\n        confirmButtonText: 'Cerrar'\r\n      }).then(() => router.push('/login'));\r\n    } else {\r\n      setCurrentUser(user);\r\n    }\r\n  }, [router]);\r\n\r\n  const handleCreate = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!fsh) {\r\n      Swal.fire({\r\n        text: \"Debes seleccionar un FSH para finalizar.\",\r\n        icon: \"error\",\r\n        confirmButtonColor: '#ef4444',\r\n        iconColor: '#ef4444',\r\n        confirmButtonText: 'Cerrar',\r\n        scrollbarPadding: false \r\n      });\r\n      return;\r\n    }\r\n\r\n    const newRetro = {\r\n      id: Date.now().toString(),\r\n      title,\r\n      description,\r\n      fsh,\r\n      assignedGroup: currentUser.assignedGroup,\r\n      createdBy: currentUser.email,\r\n      createdAt: new Date(),\r\n      actions: [],\r\n      votes: {},\r\n      closed: false\r\n    };\r\n\r\n    const stored = localStorage.getItem('retrospectives');\r\n    const retros = stored ? JSON.parse(stored) : [];\r\n    retros.push(newRetro);\r\n    localStorage.setItem('retrospectives', JSON.stringify(retros));\r\n\r\n    Swal.fire({\r\n      text: \"Se ha creado la retrospectiva exitosamente.\",\r\n      icon: \"success\",\r\n      confirmButtonColor: '#ef4444',\r\n      iconColor: '#ef4444',\r\n      confirmButtonText: 'Cerrar'\r\n    }).then(() => router.push('/retrospective-list'));\r\n  };\r\n\r\n  if (!currentUser) return <div>Cargando...</div>;\r\n\r\n  return (\r\n    <main className={styles.container}>\r\n      <header className={styles.header}>\r\n        <div className={styles.logoContainer}>\r\n          <img src=\"/img/starfish.png\" alt=\"Ga-Starfish Logo\" className={styles.logoImage} />\r\n          <span className={styles.projectName}>Ga-Starfish</span>\r\n        </div>\r\n        <h1 className={styles.pageTitle}>Crear Retrospectiva</h1>\r\n        <div className={styles.menuWrapper}>\r\n          <SidebarToggle> </SidebarToggle>\r\n        </div>\r\n      </header>\r\n\r\n      {/* Menú lateral */}\r\n      <aside className={styles.menuAside}>\r\n        {currentUser.groupRole === 'Scrum Master' && (\r\n          <button className={styles.btnCreate} onClick={() => router.push('/create-retrospective')}>\r\n            Crear Retrospectiva\r\n          </button>\r\n        )}\r\n\r\n        <button className={styles.btnView} onClick={() => router.push('/retrospective-list')}>\r\n          Ingresar a las Retrospectivas\r\n        </button>\r\n\r\n        {currentUser.groupRole === 'Scrum Master' && (\r\n          <button className={styles.btnCreate} onClick={() => router.push('/schedule-retrospectives')}>\r\n            Programar Retrospectiva\r\n          </button>\r\n        )}\r\n\r\n        <button className={styles.btnCreate} onClick={() => router.push('/leaderboard')}>\r\n          Ver Leaderboard\r\n        </button>\r\n\r\n        <button className={styles.btnCreate} onClick={() => router.push('/profile')}>\r\n          Editar Perfil\r\n        </button>\r\n      </aside>\r\n\r\n      <section className={styles.formSection}>\r\n        <form onSubmit={handleCreate}>\r\n          <div className={styles.formGroup}>\r\n            <label htmlFor=\"title\"><strong>Título:</strong></label>\r\n            <input\r\n              id=\"title\"\r\n              type=\"text\"\r\n              value={title}\r\n              onChange={e => setTitle(e.target.value)}\r\n              required\r\n              className={styles.input}\r\n            />\r\n          </div>\r\n\r\n          <div className={styles.formGroup}>\r\n            <label htmlFor=\"description\"><strong>Descripción:</strong></label>\r\n            <textarea\r\n              id=\"description\"\r\n              value={description}\r\n              onChange={e => setDescription(e.target.value)}\r\n              required\r\n              className={styles.textarea}\r\n            />\r\n          </div>\r\n\r\n          <div className={styles.formGroup}>\r\n            <label htmlFor=\"fsh\"><strong>Seleccionar FSH:</strong></label>\r\n            <select\r\n              id=\"fsh\"\r\n              value={fsh}\r\n              onChange={e => setFsh(e.target.value)}\r\n              required\r\n              className=\"select\"\r\n            >\r\n              <option value=\"\">Ninguno</option>\r\n              <option value=\"Comunicación\">Comunicación</option>\r\n              <option value=\"Compromiso\">Compromiso</option>\r\n              <option value=\"Colaboración\">Colaboración</option>\r\n              <option value=\"Motivación\">Motivación</option>\r\n              <option value=\"Satisfacción laboral\">Satisfacción laboral</option>\r\n              <option value=\"Inteligencia emocional\">Inteligencia emocional</option>\r\n              <option value=\"Cohesión de equipo\">Cohesión de equipo</option>\r\n              <option value=\"Empatía y relaciones interpersonales\">Empatía y relaciones interpersonales</option>\r\n              <option value=\"Liderazgo\">Liderazgo</option>\r\n              <option value=\"Autonomía\">Autonomía</option>\r\n              <option value=\"Innovación\">Innovación</option>\r\n              <option value=\"Habilidades y experiencia en el proceso de desarrollo de software\">\r\n                Habilidades y experiencia en el proceso de desarrollo de software\r\n              </option>\r\n              <option value=\"Habilidades y experiencia en la gestión de proyectos de desarrollo de software\">\r\n                Habilidades y experiencia en la gestión de proyectos de desarrollo de software\r\n              </option>\r\n            </select>\r\n          </div>\r\n\r\n          <button type=\"submit\" className={styles.button}>\r\n            Crear Retrospectiva\r\n          </button>\r\n        </form>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}