{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/app/create-retrospective/Create-retrospective.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"button\": \"Create-retrospective-module__QQzf3q__button\",\n  \"container\": \"Create-retrospective-module__QQzf3q__container\",\n  \"formGroup\": \"Create-retrospective-module__QQzf3q__formGroup\",\n  \"formSection\": \"Create-retrospective-module__QQzf3q__formSection\",\n  \"header\": \"Create-retrospective-module__QQzf3q__header\",\n  \"input\": \"Create-retrospective-module__QQzf3q__input\",\n  \"logoContainer\": \"Create-retrospective-module__QQzf3q__logoContainer\",\n  \"logoImage\": \"Create-retrospective-module__QQzf3q__logoImage\",\n  \"menuButton\": \"Create-retrospective-module__QQzf3q__menuButton\",\n  \"menuWrapper\": \"Create-retrospective-module__QQzf3q__menuWrapper\",\n  \"pageTitle\": \"Create-retrospective-module__QQzf3q__pageTitle\",\n  \"projectName\": \"Create-retrospective-module__QQzf3q__projectName\",\n  \"textarea\": \"Create-retrospective-module__QQzf3q__textarea\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 27, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Nereida%20Ramos/Desktop/Ga-Starfish-2/starfish-app/src/app/create-retrospective/page.tsx"],"sourcesContent":["'use client';\r\nimport { useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport SidebarToggle from '../SidebarToggle';\r\nimport styles from './Create-retrospective.module.css';\r\nimport Swal from 'sweetalert2';\r\nimport { addDays, addWeeks, addMonths, formatISO } from 'date-fns';\r\n\r\ntype Occurrence = {\r\n  id: string;\r\n  title: string;\r\n  description: string;\r\n  fsh: string;\r\n  scheduledAt?: string;\r\n  createdAt: string;\r\n  createdBy: string;\r\n  assignedGroup: string;\r\n  actions: any[];\r\n  votes: Record<string, string>;\r\n  closed: boolean;\r\n};\r\n\r\nexport default function CreateRetrospectivePage() {\r\n  const [mode, setMode] = useState<'create' | 'schedule'>('create');\r\n  const [title, setTitle] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [fsh, setFsh] = useState('');\r\n  const [start, setStart] = useState('');\r\n  const [recurrence, setRecurrence] = useState<'daily' | 'weekly' | 'monthly'>('weekly');\r\n  const [count, setCount] = useState(1);\r\n  const router = useRouter();\r\n\r\n  const currentUser = typeof window !== 'undefined'\r\n    ? JSON.parse(localStorage.getItem('currentUser') || 'null')\r\n    : null;\r\n  const assignedGroup = currentUser?.assignedGroup || '';\r\n  const createdBy = currentUser?.email || 'unknown';\r\n\r\n  const saveToRetrospectives = (items: Occurrence[]) => {\r\n    const all = JSON.parse(localStorage.getItem('retrospectives') || '[]');\r\n    localStorage.setItem('retrospectives', JSON.stringify([...all, ...items]));\r\n  };\r\n\r\n  const handleCreate = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!fsh) {\r\n      Swal.fire({\r\n        text: \"Debes seleccionar un FSH para finalizar.\",\r\n        icon: \"error\",\r\n        confirmButtonColor: '#ef4444',\r\n        iconColor: '#ef4444',\r\n        confirmButtonText: 'Cerrar',\r\n        scrollbarPadding: false \r\n      });\r\n      return;\r\n    }\r\n    const id = Date.now().toString();\r\n    const retro: Occurrence = {\r\n      id,\r\n      title,\r\n      description,\r\n      fsh,\r\n      createdAt: new Date().toISOString(),\r\n      createdBy,\r\n      assignedGroup,\r\n      actions: [],\r\n      votes: {},\r\n      closed: false\r\n    };\r\n    saveToRetrospectives([retro]);\r\n\r\n    Swal.fire({\r\n      text: \"Retrospectiva creada exitosamente.\",\r\n      icon: \"success\",\r\n      confirmButtonColor: '#ef4444',\r\n      iconColor: '#ef4444',\r\n      confirmButtonText: 'Cerrar'\r\n    }).then(() => router.push('/retrospective-list'));\r\n  };\r\n\r\n  const handleSchedule = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!title || !fsh || !start) {\r\n      Swal.fire({\r\n        text: \"Completa título, FSH y fecha de inicio.\",\r\n        icon: \"warning\",\r\n        confirmButtonColor: '#ef4444',\r\n        iconColor: '#ef4444',\r\n        confirmButtonText: 'Cerrar'\r\n      });\r\n      return;\r\n    }\r\n    const occurrences: Occurrence[] = [];\r\n    let date = new Date(start);\r\n\r\n    for (let i = 0; i < count; i++) {\r\n      occurrences.push({\r\n        id: `${Date.now()}-${i}`,\r\n        title,\r\n        description,\r\n        fsh,\r\n        scheduledAt: formatISO(date),\r\n        createdAt: new Date().toISOString(),\r\n        createdBy,\r\n        assignedGroup,\r\n        actions: [],\r\n        votes: {},\r\n        closed: false\r\n      });\r\n      if (recurrence === 'daily') date = addDays(date, 1);\r\n      else if (recurrence === 'weekly') date = addWeeks(date, 1);\r\n      else date = addMonths(date, 1);\r\n    }\r\n\r\n    saveToRetrospectives(occurrences);\r\n\r\n    Swal.fire({\r\n      text: \"Retrospectivas programadas exitosamente.\",\r\n      icon: \"success\",\r\n      confirmButtonColor: '#ef4444',\r\n      iconColor: '#ef4444',\r\n      confirmButtonText: 'Cerrar'\r\n    }).then(() => router.push('/dashboard'));\r\n  };\r\n\r\n  return (\r\n    <main className={styles.container}>\r\n      <header className={styles.header}>\r\n        <div className={styles.logoContainer}>\r\n          <img src=\"/img/starfish.png\" alt=\"Ga-Starfish Logo\" className={styles.logoImage} />\r\n          <span className={styles.projectName}>Ga-Starfish</span>\r\n        </div>\r\n        <h1 className={styles.pageTitle}>Crear Retrospectiva</h1>\r\n        <div className={styles.menuWrapper}>\r\n          <SidebarToggle children={undefined} /> {}\r\n        </div>\r\n      </header>\r\n\r\n      <section className={styles.formSection}>\r\n        <div className={styles.modeSwitch}>\r\n          <button type=\"button\" onClick={() => setMode('create')} disabled={mode === 'create'}>Crear única</button>\r\n          <button type=\"button\" onClick={() => setMode('schedule')} disabled={mode === 'schedule'}>Programar</button>\r\n        </div>\r\n\r\n        <form onSubmit={mode === 'create' ? handleCreate : handleSchedule}>\r\n          <div className={styles.formGroup}>\r\n            <label htmlFor=\"title\"><strong>Título:</strong></label>\r\n            <input\r\n              id=\"title\"\r\n              type=\"text\"\r\n              value={title}\r\n              onChange={e => setTitle(e.target.value)}\r\n              required\r\n              className={styles.input}\r\n            />\r\n          </div>\r\n\r\n          <div className={styles.formGroup}>\r\n            <label htmlFor=\"description\"><strong>Descripción</strong></label>\r\n            <textarea\r\n              id=\"description\"\r\n              value={description}\r\n              onChange={e => setDescription(e.target.value)}\r\n              required\r\n              className={styles.textarea}\r\n            />\r\n          </div>\r\n\r\n          <div className={styles.formGroup}>\r\n            <label htmlFor=\"fsh\"><strong>Seleccionar FSH:</strong></label>\r\n            <select\r\n              id=\"fsh\"\r\n              value={fsh}\r\n              onChange={e => setFsh(e.target.value)}\r\n              required\r\n              className={styles.select}\r\n            >\r\n              <option value=\"\">Ninguno</option>\r\n              <option value=\"Comunicación\">Comunicación</option>\r\n              <option value=\"Compromiso\">Compromiso</option>\r\n              <option value=\"Colaboración\">Colaboración</option>\r\n              <option value=\"Motivación\">Motivación</option>\r\n              <option value=\"Satisfacción laboral\">Satisfacción laboral</option>\r\n              <option value=\"Inteligencia emocional\">Inteligencia emocional</option>\r\n              <option value=\"Cohesión de equipo\">Cohesión de equipo</option>\r\n              <option value=\"Empatía y relaciones interpersonales\">Empatía y relaciones interpersonales</option>\r\n              <option value=\"Liderazgo\">Liderazgo</option>\r\n              <option value=\"Autonomía\">Autonomía</option>\r\n              <option value=\"Innovación\">Innovación</option>\r\n              <option value=\"Habilidades y experiencia en el proceso de desarrollo de software\">Habilidades y experiencia en el proceso de desarrollo de software</option>\r\n              <option value=\"Habilidades y experiencia en la gestión de proyectos de desarrollo de software\">Habilidades y experiencia en la gestión de proyectos de desarrollo de software</option>\r\n            </select>\r\n          </div>\r\n\r\n          {mode === 'schedule' && (\r\n            <>\r\n              <div className={styles.formGroup}>\r\n                <label><strong>Fecha de inicio:</strong></label>\r\n                <input\r\n                  type=\"date\"\r\n                  value={start}\r\n                  onChange={e => setStart(e.target.value)}\r\n                  required\r\n                  className={styles.input}\r\n                />\r\n              </div>\r\n              <div className={styles.formGroup}>\r\n                <label><strong>Frecuencia:</strong></label>\r\n                <select\r\n                  value={recurrence}\r\n                  onChange={e => setRecurrence(e.target.value as 'daily' | 'weekly' | 'monthly')}\r\n                  className={styles.select}\r\n                >\r\n                  <option value=\"daily\">Diaria</option>\r\n                  <option value=\"weekly\">Semanal</option>\r\n                  <option value=\"monthly\">Mensual</option>\r\n                </select>\r\n              </div>\r\n              <div className={styles.formGroup}>\r\n                <label><strong>Repeticiones:</strong></label>\r\n                <input\r\n                  type=\"number\"\r\n                  min={1}\r\n                  value={count}\r\n                  onChange={e => setCount(Number(e.target.value))}\r\n                  className={styles.input}\r\n                />\r\n              </div>\r\n            </>\r\n          )}\r\n\r\n          <button type=\"submit\" className={styles.button}>\r\n            {mode === 'create' ? 'Crear Retrospectiva' : 'Programar Retrospectivas'}\r\n          </button>\r\n        </form>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}