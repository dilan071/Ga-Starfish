{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Nereida%20Ramos/Desktop/Ga-Starfish/starfish-app/src/app/profile/page.tsx"],"sourcesContent":["'use client';\r\nimport { useState, useEffect, ChangeEvent } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\n\r\nexport default function ProfilePage() {\r\n  const [currentUser, setCurrentUser] = useState<any>(null);\r\n  const [preview, setPreview] = useState<string | null>(null);\r\n  const router = useRouter();\r\n\r\n  // Cargar usuario en sesiÃ³n\r\n  useEffect(() => {\r\n    const u = JSON.parse(localStorage.getItem('currentUser') || 'null');\r\n    if (!u) {\r\n      router.push('/login');\r\n      return;\r\n    }\r\n    setCurrentUser(u);\r\n    setPreview(u.avatar || null);\r\n  }, [router]);\r\n\r\n  // Leer fichero y crear base64\r\n  const handleFileChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0];\r\n    if (!file) return;\r\n    const reader = new FileReader();\r\n    reader.onload = () => {\r\n      setPreview(reader.result as string);\r\n    };\r\n    reader.readAsDataURL(file);\r\n  };\r\n\r\n  // Guardar avatar en localStorage\r\n  const handleSave = () => {\r\n    if (!preview || !currentUser) return;\r\n    // Actualizar en users[]\r\n    const all = JSON.parse(localStorage.getItem('users') || '[]');\r\n    const updated = all.map((u: any) =>\r\n      u.email === currentUser.email ? { ...u, avatar: preview } : u\r\n    );\r\n    localStorage.setItem('users', JSON.stringify(updated));\r\n    // Actualizar currentUser\r\n    const me = { ...currentUser, avatar: preview };\r\n    localStorage.setItem('currentUser', JSON.stringify(me));\r\n    setCurrentUser(me);\r\n    alert('Avatar guardado');\r\n  };\r\n\r\n  if (!currentUser) return <div>Cargando perfil...</div>;\r\n\r\n  return (\r\n    <div style={{ padding: '1rem' }}>\r\n      <h2>Mi Perfil</h2>\r\n      <p><strong>Email:</strong> {currentUser.email}</p>\r\n      <div style={{ margin: '1rem 0' }}>\r\n        {preview ? (\r\n          <img\r\n            src={preview}\r\n            alt=\"Avatar\"\r\n            style={{ width: '100px', height: '100px', borderRadius: '50%' }}\r\n          />\r\n        ) : (\r\n          <div style={{\r\n            width: '100px', height: '100px', borderRadius: '50%',\r\n            background: '#ccc', display: 'flex', alignItems: 'center',\r\n            justifyContent: 'center'\r\n          }}>\r\n            Sin avatar\r\n          </div>\r\n        )}\r\n      </div>\r\n      <input type=\"file\" accept=\"image/*\" onChange={handleFileChange} />\r\n      <br /><br />\r\n      <button onClick={handleSave} disabled={!preview}>\r\n        Guardar Avatar\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AACA;AAFA;;;;AAIe,SAAS;IACtB,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAO;IACpD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IACtD,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAEvB,2BAA2B;IAC3B,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,IAAI,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC,kBAAkB;QAC5D,IAAI,CAAC,GAAG;YACN,OAAO,IAAI,CAAC;YACZ;QACF;QACA,eAAe;QACf,WAAW,EAAE,MAAM,IAAI;IACzB,GAAG;QAAC;KAAO;IAEX,8BAA8B;IAC9B,MAAM,mBAAmB,CAAC;QACxB,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE;QAChC,IAAI,CAAC,MAAM;QACX,MAAM,SAAS,IAAI;QACnB,OAAO,MAAM,GAAG;YACd,WAAW,OAAO,MAAM;QAC1B;QACA,OAAO,aAAa,CAAC;IACvB;IAEA,iCAAiC;IACjC,MAAM,aAAa;QACjB,IAAI,CAAC,WAAW,CAAC,aAAa;QAC9B,wBAAwB;QACxB,MAAM,MAAM,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC,YAAY;QACxD,MAAM,UAAU,IAAI,GAAG,CAAC,CAAC,IACvB,EAAE,KAAK,KAAK,YAAY,KAAK,GAAG;gBAAE,GAAG,CAAC;gBAAE,QAAQ;YAAQ,IAAI;QAE9D,aAAa,OAAO,CAAC,SAAS,KAAK,SAAS,CAAC;QAC7C,yBAAyB;QACzB,MAAM,KAAK;YAAE,GAAG,WAAW;YAAE,QAAQ;QAAQ;QAC7C,aAAa,OAAO,CAAC,eAAe,KAAK,SAAS,CAAC;QACnD,eAAe;QACf,MAAM;IACR;IAEA,IAAI,CAAC,aAAa,qBAAO,8OAAC;kBAAI;;;;;;IAE9B,qBACE,8OAAC;QAAI,OAAO;YAAE,SAAS;QAAO;;0BAC5B,8OAAC;0BAAG;;;;;;0BACJ,8OAAC;;kCAAE,8OAAC;kCAAO;;;;;;oBAAe;oBAAE,YAAY,KAAK;;;;;;;0BAC7C,8OAAC;gBAAI,OAAO;oBAAE,QAAQ;gBAAS;0BAC5B,wBACC,8OAAC;oBACC,KAAK;oBACL,KAAI;oBACJ,OAAO;wBAAE,OAAO;wBAAS,QAAQ;wBAAS,cAAc;oBAAM;;;;;yCAGhE,8OAAC;oBAAI,OAAO;wBACV,OAAO;wBAAS,QAAQ;wBAAS,cAAc;wBAC/C,YAAY;wBAAQ,SAAS;wBAAQ,YAAY;wBACjD,gBAAgB;oBAClB;8BAAG;;;;;;;;;;;0BAKP,8OAAC;gBAAM,MAAK;gBAAO,QAAO;gBAAU,UAAU;;;;;;0BAC9C,8OAAC;;;;;0BAAK,8OAAC;;;;;0BACP,8OAAC;gBAAO,SAAS;gBAAY,UAAU,CAAC;0BAAS;;;;;;;;;;;;AAKvD","debugId":null}},
    {"offset": {"line": 175, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Nereida%20Ramos/Desktop/Ga-Starfish/starfish-app/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0],"debugId":null}}]
}