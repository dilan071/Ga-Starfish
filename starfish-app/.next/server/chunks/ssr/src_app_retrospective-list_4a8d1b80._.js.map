{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/app/retrospective-list/Retrospective-List.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"closeBtn\": \"Retrospective-List-module__BF2Exq__closeBtn\",\n  \"container\": \"Retrospective-List-module__BF2Exq__container\",\n  \"enterBtn\": \"Retrospective-List-module__BF2Exq__enterBtn\",\n  \"header\": \"Retrospective-List-module__BF2Exq__header\",\n  \"listSection\": \"Retrospective-List-module__BF2Exq__listSection\",\n  \"logoContainer\": \"Retrospective-List-module__BF2Exq__logoContainer\",\n  \"logoImage\": \"Retrospective-List-module__BF2Exq__logoImage\",\n  \"menuButton\": \"Retrospective-List-module__BF2Exq__menuButton\",\n  \"menuWrapper\": \"Retrospective-List-module__BF2Exq__menuWrapper\",\n  \"pageTitle\": \"Retrospective-List-module__BF2Exq__pageTitle\",\n  \"projectName\": \"Retrospective-List-module__BF2Exq__projectName\",\n  \"retroCard\": \"Retrospective-List-module__BF2Exq__retroCard\",\n  \"retroInfo\": \"Retrospective-List-module__BF2Exq__retroInfo\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 27, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Nereida%20Ramos/Desktop/Ga-Starfish-2/starfish-app/src/app/retrospective-list/page.tsx"],"sourcesContent":["// RetrospectiveListPage.tsx\r\n'use client';\r\nimport { useState, useEffect } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport SidebarToggle from '../SidebarToggle';\r\nimport styles from './Retrospective-List.module.css';\r\nimport Swal from 'sweetalert2';\r\n\r\nexport default function RetrospectiveListPage() {\r\n  const [retrospectives, setRetrospectives] = useState<any[]>([]);\r\n  const [currentUser, setCurrentUser] = useState<any>(null);\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    const stored = localStorage.getItem('retrospectives');\r\n    const user = JSON.parse(localStorage.getItem('currentUser') || 'null');\r\n    if (user) setCurrentUser(user);\r\n    if (stored && user && user.assignedGroup) {\r\n      const all = JSON.parse(stored) as any[];\r\n      const filtered = all\r\n        .filter(r => r.assignedGroup?.trim() === user.assignedGroup?.trim())\r\n        .sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime());\r\n      setRetrospectives(filtered);\r\n    }\r\n  }, []);\r\n\r\n  const handleClose = (retroId: string) => {\r\n    if (!currentUser) return;\r\n    const retro = retrospectives.find(r => r.id === retroId);\r\n    if (!retro) return;\r\n    if (currentUser.email !== retro.createdBy) {\r\n      Swal.fire({\r\n        text: \"No tienes permiso para cerrar ésta retrospectiva.\",\r\n        icon: \"error\",\r\n        confirmButtonColor: '#ef4444',\r\n        iconColor: '#ef4444',\r\n        confirmButtonText: 'Cerrar',\r\n        scrollbarPadding: false \r\n      });;\r\n      return;\r\n    }\r\n    const updated = { ...retro, closed: true };\r\n    const stored = JSON.parse(localStorage.getItem('retrospectives') || '[]');\r\n    const updatedAll = stored.map((r: any) => (r.id === retroId ? updated : r));\r\n    localStorage.setItem('retrospectives', JSON.stringify(updatedAll));\r\n    setRetrospectives(prev => prev.map(r => (r.id === retroId ? updated : r)));\r\n                Swal.fire({\r\n                  text: \"Retrospectiva cerrada exitosamente.\",\r\n                  icon: \"success\",\r\n                  confirmButtonColor: '#ef4444',\r\n                  iconColor: '#ef4444',\r\n                  confirmButtonText: 'Cerrar',\r\n                  scrollbarPadding: false \r\n                });;\r\n  };\r\n\r\n  if (!currentUser) return <div>Cargando información...</div>;\r\n\r\n  return (\r\n    <main className={styles.container}>\r\n      <header className={styles.header}>\r\n        <div className={styles.logoContainer}>\r\n          <img src=\"/img/starfish.png\" alt=\"Ga-Starfish Logo\" className={styles.logoImage} />\r\n          <span className={styles.projectName}>Ga-Starfish</span>\r\n        </div>\r\n        <h1 className={styles.pageTitle}>Retrospectivas de tu grupo</h1>\r\n        <div className={styles.menuWrapper}>\r\n          <SidebarToggle> </SidebarToggle>\r\n        </div>\r\n      </header>\r\n\r\n      <section className={styles.listSection}>\r\n        {retrospectives.length === 0 ? (\r\n          <p>No hay retrospectivas registradas para tu grupo.</p>\r\n        ) : (\r\n          retrospectives.map(retro => (\r\n            <div key={retro.id} className={styles.retroCard}>\r\n              <div className={styles.retroInfo}>\r\n                <h4>{retro.title}</h4>\r\n                <p>{retro.description}</p>\r\n                <span><strong>FSH:</strong> {retro.fsh}</span>\r\n                <span>\r\n                  <strong>Estado:</strong> {retro.closed ? 'Cerrada' : 'Abierta'}\r\n                </span>\r\n              </div>\r\n              <button\r\n                className={styles.enterBtn}\r\n                onClick={() => router.push(`/retrospective-session?id=${retro.id}`)}\r\n              >\r\n                Ingresar a la retrospectiva\r\n              </button>\r\n              {!retro.closed && currentUser.email === retro.createdBy && (\r\n                <button\r\n                  className={styles.closeBtn}\r\n                  onClick={() => handleClose(retro.id)}\r\n                >\r\n                  Cerrar retrospectiva\r\n                </button>\r\n              )}\r\n            </div>\r\n          ))\r\n        )}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}