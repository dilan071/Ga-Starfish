{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Nereida%20Ramos/Desktop/Ga-Starfish-2/starfish-app/src/app/hooks/useAuth.tsx"],"sourcesContent":["'use client'; \r\nimport { useRouter } from 'next/navigation';\r\n\r\nexport function useAuth() {\r\n  const router = useRouter();\r\n\r\n  function handleLogout() {\r\n    localStorage.removeItem('currentUser');\r\n    localStorage.setItem('isLoggedIn', 'false');\r\n    router.push('/login');\r\n  }\r\n\r\n  return {\r\n    handleLogout,\r\n  };\r\n}\r\n"],"names":[],"mappings":";;;AACA;;AADA;;AAGO,SAAS;;IACd,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IAEvB,SAAS;QACP,aAAa,UAAU,CAAC;QACxB,aAAa,OAAO,CAAC,cAAc;QACnC,OAAO,IAAI,CAAC;IACd;IAEA,OAAO;QACL;IACF;AACF;GAZgB;;QACC,qIAAA,CAAA,YAAS","debugId":null}},
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/app/dashboard/Dashboard.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"btnCreate\": \"Dashboard-module__8Mmpzq__btnCreate\",\n  \"btnView\": \"Dashboard-module__8Mmpzq__btnView\",\n  \"container\": \"Dashboard-module__8Mmpzq__container\",\n  \"enterBtn\": \"Dashboard-module__8Mmpzq__enterBtn\",\n  \"header\": \"Dashboard-module__8Mmpzq__header\",\n  \"logoContainer\": \"Dashboard-module__8Mmpzq__logoContainer\",\n  \"logoImage\": \"Dashboard-module__8Mmpzq__logoImage\",\n  \"menuAside\": \"Dashboard-module__8Mmpzq__menuAside\",\n  \"menuButton\": \"Dashboard-module__8Mmpzq__menuButton\",\n  \"menuWrapper\": \"Dashboard-module__8Mmpzq__menuWrapper\",\n  \"pageTitle\": \"Dashboard-module__8Mmpzq__pageTitle\",\n  \"projectName\": \"Dashboard-module__8Mmpzq__projectName\",\n  \"retroCard\": \"Dashboard-module__8Mmpzq__retroCard\",\n  \"retroInfo\": \"Dashboard-module__8Mmpzq__retroInfo\",\n  \"retrosList\": \"Dashboard-module__8Mmpzq__retrosList\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 62, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Nereida%20Ramos/Desktop/Ga-Starfish-2/starfish-app/src/app/dashboard/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport Link from 'next/link';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useAuth } from '../hooks/useAuth';\r\nimport SidebarToggle from '../SidebarToggle';\r\nimport styles from './Dashboard.module.css';\r\n\r\nexport default function DashboardPage() {\r\n  const [currentUser, setCurrentUser] = useState<any>(null);\r\n  const [retrospectives, setRetrospectives] = useState<any[]>([]);\r\n  const router = useRouter();\r\n  const { handleLogout } = useAuth();\r\n\r\n  useEffect(() => {\r\n    const user = JSON.parse(localStorage.getItem('currentUser') || 'null');\r\n    if (!user) {\r\n      router.push('/login');\r\n      return;\r\n    }\r\n    const allUsers = JSON.parse(localStorage.getItem('users') || '[]');\r\n    const updated = allUsers.find((u: any) => u.email === user.email);\r\n    setCurrentUser(updated);\r\n    localStorage.setItem('currentUser', JSON.stringify(updated));\r\n\r\n    const stored = localStorage.getItem('retrospectives');\r\n    if (stored && updated.assignedGroup) {\r\n      const allRetros = JSON.parse(stored);\r\n      const filtered = allRetros\r\n        .filter((r: any) =>\r\n          r.assignedGroup?.trim() === updated.assignedGroup.trim()\r\n        )\r\n        .sort(\r\n          (a: any, b: any) =>\r\n            new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime()\r\n        );\r\n      setRetrospectives(filtered);\r\n    }\r\n  }, [router]);\r\n\r\n  const getAvatar = (email: string) => {\r\n    const allUsers = JSON.parse(localStorage.getItem('users') || '[]');\r\n    const user = allUsers.find((u: any) => u.email === email);\r\n    return user?.avatar || '/default-avatar.png';\r\n  };\r\n\r\n  if (!currentUser) return <div>Cargando...</div>;\r\n\r\n  if (!currentUser.assignedGroup) {\r\n    return (\r\n      <div>\r\n        No tienes un grupo asignado. <button onClick={handleLogout}>Cerrar Sesión</button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <main className={styles.container}>\r\n      <header className={styles.header}>\r\n        <div className={styles.logoContainer}>\r\n          <img src=\"/img/starfish.png\" alt=\"Ga-Starfish Logo\" className={styles.logoImage} />\r\n          <span className={styles.projectName}>Ga-Starfish</span>\r\n        </div>\r\n        <h1 className={styles.pageTitle}>Página Principal</h1>\r\n        <div className={styles.menuWrapper}>\r\n          <SidebarToggle>­</SidebarToggle>\r\n        </div>\r\n      </header>\r\n\r\n      {/* Info del usuario */}\r\n      <section className={styles.userInfo}>\r\n        <div className={styles.avatarContainer}>\r\n          <img\r\n            src={getAvatar(currentUser.email)}\r\n            alt=\"Avatar\"\r\n            className={styles.avatar}\r\n          />\r\n          <div>\r\n            <p><strong>{currentUser.email}</strong></p>\r\n            <p><strong>Grupo:</strong> {currentUser.assignedGroup}</p>\r\n            <p><strong>Rol en el grupo:</strong> {currentUser.groupRole || 'N/A'}</p>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* Listado de retrospectivas */}\r\n      <section className={styles.retrosList}>\r\n        <h2>Retrospectivas Recientes</h2>\r\n        {retrospectives.length === 0 ? (\r\n          <h3>No hay retrospectivas creadas.</h3>\r\n        ) : (\r\n          retrospectives.slice(0, 5).map((retro, i) => (\r\n            <div key={i} className={styles.retroCard}>\r\n              <div className={styles.retroInfo}>\r\n                <h4>{retro.title}</h4>\r\n                <p><strong>Descripción:</strong> {retro.description}</p>\r\n                <span><strong>FSH:</strong> {retro.fsh}</span>\r\n                <span><strong>Creada:</strong> {new Date(retro.createdAt).toLocaleString()}</span>\r\n                <span><strong>Estado:</strong> {retro.closed ? 'Cerrada' : 'Abierta'}</span>\r\n              </div>\r\n              <button\r\n                className={styles.enterBtn}\r\n                onClick={() => router.push(`/retrospective-session?id=${retro.id}`)}\r\n              >\r\n                Ingresar a la Retrospectiva\r\n              </button>\r\n            </div>\r\n          ))\r\n        )}\r\n      </section>\r\n\r\n      {/* Menú lateral u opciones según rol */}\r\n      <aside className={styles.menuAside}>\r\n        {currentUser.groupRole === 'scrum-master' || currentUser.groupRole === 'Scrum Master' ? (\r\n          <>\r\n            <button className={styles.btnCreate} onClick={() => router.push('/create-retrospective')}>\r\n              Crear Retrospectiva\r\n            </button>\r\n           \r\n          </>\r\n        ) : (\r\n          <>\r\n            <button className={styles.btnCreate} onClick={() => router.push('/add-actions')}>\r\n              Agregar Acciones\r\n            </button>\r\n            <button className={styles.btnCreate} onClick={() => router.push('/vote-actions')}>\r\n              Votar Acciones\r\n            </button>\r\n            <button className={styles.btnCreate} onClick={() => router.push('/view-questions')}>\r\n              Ver Preguntas\r\n            </button>\r\n          </>\r\n        )}\r\n        <button className={styles.btnView} onClick={() => router.push('/retrospective-list')}>\r\n          Ver Todas las Retrospectivas\r\n        </button>\r\n        <button className={styles.btnCreate} onClick={() => router.push('/leaderboard')}>\r\n          Ver Leaderboard\r\n        </button>\r\n        <button className={styles.btnCreate} onClick={() => router.push('/profile')}>\r\n          Editar Perfil\r\n        </button>\r\n       \r\n      </aside>\r\n    </main>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}